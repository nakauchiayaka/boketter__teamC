= render 'shared/header'
#wrapper
  #container
    = render 'shared/header-news'

    #main-container
      = render 'mypage_shared/content-menu'

      #content
        = render 'mypage_shared/text-center'

        .other-title
          パスワードの変更

        .ng-scope
          - if @error_message
            .alert.alert-danger.ng-hide
              %ul
                %li.ng-binding.ng-scope
                  = @error_message

          - else
            %ul
          - if !@password_change
            = form_for(current_user, url: users_password_upadate_path, method: :put, html: { class: "form-horizontal ng-pristine ng-invalid ng-invalid-required"}) do |f|
              .form-group
                = f.label :current_password, "現在のパスワード", class: "control-label col-sm-6"
                .col-sm-6
                  = f.password_field :current_password, class: "form-control ng-pristine ng-invalid ng-invalid-required", required: true, value: ""
              .form-group
                = f.label :new_password, "新しいパスワード（4文字以上20文字以内）", class: "control-label col-sm-6"
                .col-sm-6
                  = f.password_field :new_password, class: "form-control ng-pristine ng-valid ng-valid-minlength", value: ""
              .form-group
                = f.label :password_confirmation, "新しいパスワードの確認", class: "control-label col-sm-6"
                .col-sm-6
                  = f.password_field :password_confirmation, class: "form-control ng-pristine ng-valid ng-valid-minlength", value: ""
              .text-center
                = f.submit "更新", class: "btn btn-primary button"
          - else
            .alert.alert-success
              パスワードが変更されました

      .bcl
        = render 'mypage_shared/bcl'

    = render 'mypage_shared/right-container'
    .clearfix

  = render 'mypage_shared/scroll-top'
= render 'shared/footer'
